<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰é¸æŠ - MBTIæ€§æ ¼è¨ºæ–­ãƒ†ã‚¹ãƒˆ</title>
  <%= stylesheet_link_tag 'mbti_index', 'data-turbo-track': 'reload' %>
  <%= stylesheet_link_tag 'mbti_mode_selection', 'data-turbo-track': 'reload' %>
  <%= stylesheet_link_tag 'footer', 'data-turbo-track': 'reload' %>
  <style>
    /* ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« - CSSãŒèª­ã¿è¾¼ã¾ã‚Œãªã„å ´åˆã®å¯¾ç­– */
    .mode-option {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
      color: white !important;
    }
    .mode-option.game-master-option {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%) !important;
    }
    .mode-description {
      color: rgba(240, 245, 255, 0.95) !important;
    }
    .game-master-option .mode-description {
      color: rgba(255, 240, 240, 0.95) !important;
    }
    .mode-option h2 {
      color: white !important;
    }
    .feature-item {
      color: rgba(255, 255, 255, 0.9) !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">ğŸ§ </div>
    <h1 class="title">è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ</h1>
    <p class="subtitle">ãŠå¥½ã¿ã®è¨ºæ–­æ–¹å¼ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
    
    <div class="info-sections">
      <div class="info-section">
        <h2>ğŸ® è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰ã«ã¤ã„ã¦</h2>
        <div class="info-content">
          <p>2ã¤ã®è¨ºæ–­æ–¹å¼ã‹ã‚‰ãŠé¸ã³ã„ãŸã ã‘ã¾ã™ã€‚ã©ã¡ã‚‰ã‚‚åŒã˜MBTIè¨ºæ–­ã§ã™ãŒã€ä½“é¨“æ–¹æ³•ãŒç•°ãªã‚Šã¾ã™ã€‚</p>
        </div>
      </div>
    </div>
    
    <div class="mode-selection">
      <div class="mode-option" onclick="selectMode('normal')">
        <div class="mode-icon">ğŸ“</div>
        <h2>é€šå¸¸ãƒ¢ãƒ¼ãƒ‰</h2>
          <div class="mode-features">
          <div class="feature-item">âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªè³ªå•å½¢å¼</div>
          <div class="feature-item">âœ… çŸ­æ™‚é–“ã§å®Œäº†ï¼ˆ5-10åˆ†ï¼‰</div>
          <div class="feature-item">âœ… å¾“æ¥ã®è¨ºæ–­ã‚¹ã‚¿ã‚¤ãƒ«</div>
        </div>
        <div class="mode-button">é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã§é–‹å§‹</div>
      </div>
      
      <div class="mode-option game-master-option" onclick="selectMode('game_master')">
        <div class="mode-icon">ğŸ­</div>
        <h2>AIã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼â€»å®Ÿè£…ä¸­</h2>
        <div class="mode-features">
          <div class="feature-item">ğŸ¯ ç‰©èªã®ç›®æ¨™ã‚’é”æˆã—ãªãŒã‚‰è¨ºæ–­</div>
          <div class="feature-item">ğŸ’ æŒã¡ç‰©ã‚„é¸æŠå±¥æ­´ãŒç‰©èªã«å½±éŸ¿</div>
          <div class="feature-item">ğŸ“– æ¯å›ç•°ãªã‚‹å±•é–‹ã‚’ä½“é¨“</div>
          <div class="feature-item">ğŸ† å£®å¤§ãªã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã§çµæœç™ºè¡¨</div>
        </div>
        <div class="mode-button">AIã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ã§é–‹å§‹</div>
      </div>
    </div>
    
    <div class="back-section">
      <a href="<%= mbti_path %>" class="back-button">â† æˆ»ã‚‹</a>
    </div>
  </div>
  
  <%= render 'shared/footer' %>

  <script>
    function selectMode(mode) {
      const sessionId = '<%= @session_id %>';
      
      if (mode === 'normal') {
        // é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã¯ç‰©èªãƒ¢ãƒ¼ãƒ‰é¸æŠã«é€²ã‚€
        window.location.href = '<%= mbti_select_mode_path(session_id: @session_id) %>';
      } else if (mode === 'game_master') {
        // AIã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã‚‚é€šå¸¸ã¨åŒã˜ããƒ¢ãƒ¼ãƒ‰é¸æŠã¸ã€‚engine=gamemaster ã‚’ä»˜ä¸
        window.location.href = '<%= mbti_select_mode_path(session_id: @session_id) %>' + '&engine=gamemaster';
      }
    }

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
    document.addEventListener('DOMContentLoaded', function() {
      const modeOptions = document.querySelectorAll('.mode-option');
      modeOptions.forEach((option, index) => {
        option.style.opacity = '0';
        option.style.transform = 'translateY(30px)';
        setTimeout(() => {
          option.style.transition = 'all 0.5s ease';
          option.style.opacity = '1';
          option.style.transform = 'translateY(0)';
        }, index * 200);
      });
    });
  </script>
</body>
</html>
